!function (t) { "function" == typeof define && define.amd ? define(t) : window.purl = t() }(function () { var t = { a: "href", img: "src", form: "action", base: "href", script: "src", iframe: "src", link: "href", embed: "src", object: "data" }, r = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "fragment"], e = { anchor: "fragment" }, a = { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ }, n = /^[0-9]+$/; function o(t, e) { for (var n = decodeURI(t), o = a[e ? "strict" : "loose"].exec(n), i = { attr: {}, param: {}, seg: {} }, s = 14; s--;)i.attr[r[s]] = o[s] || ""; return i.param.query = f(i.attr.query), i.param.fragment = f(i.attr.fragment), i.seg.path = i.attr.path.replace(/^\/+|\/+$/g, "").split("/"), i.seg.fragment = i.attr.fragment.replace(/^\/+|\/+$/g, "").split("/"), i.attr.base = i.attr.host ? (i.attr.protocol ? i.attr.protocol + "://" + i.attr.host : i.attr.host) + (i.attr.port ? ":" + i.attr.port : "") : "", i } function i(t, r) { if (0 === t[r].length) return t[r] = {}; var e = {}; for (var a in t[r]) e[a] = t[r][a]; return t[r] = e, e } function s(t, r, e) { if (~r.indexOf("]")) { !function t(r, e, a, o) { var s = r.shift(); if (s) { var f = e[a] = e[a] || []; "]" == s ? u(f) ? "" !== o && f.push(o) : "object" == typeof f ? f[function (t) { var r = []; for (var e in t) t.hasOwnProperty(e) && r.push(e); return r }(f).length] = o : f = e[a] = [e[a], o] : ~s.indexOf("]") ? (s = s.substr(0, s.length - 1), !n.test(s) && u(f) && (f = i(e, a)), t(r, f, s, o)) : (!n.test(s) && u(f) && (f = i(e, a)), t(r, f, s, o)) } else u(e[a]) ? e[a].push(o) : "object" == typeof e[a] ? e[a] = o : void 0 === e[a] ? e[a] = o : e[a] = [e[a], o] }(r.split("["), t, "base", e) } else { if (!n.test(r) && u(t.base)) { var a = {}; for (var o in t.base) a[o] = t.base[o]; t.base = a } "" !== r && function (t, r, e) { var a = t[r]; void 0 === a ? t[r] = e : u(a) ? a.push(e) : t[r] = [a, e] }(t.base, r, e) } return t } function f(t) { return function (t, r) { var e = 0, a = t.length >> 0, n = arguments[2]; for (; e < a;)e in t && (n = r.call(void 0, n, t[e], e, t)), ++e; return n }(String(t).split(/&|;/), function (t, r) { try { r = decodeURIComponent(r.replace(/\+/g, " ")) } catch (t) { } var e = r.indexOf("="), a = function (t) { for (var r, e, a = t.length, n = 0; n < a; ++n)if ("]" == (e = t[n]) && (r = !1), "[" == e && (r = !0), "=" == e && !r) return n }(r), n = r.substr(0, a || e), o = r.substr(a || e, r.length); return o = o.substr(o.indexOf("=") + 1, o.length), "" === n && (n = r, o = ""), s(t, n, o) }, { base: {} }).base } function u(t) { return "[object Array]" === Object.prototype.toString.call(t) } function c(t, r) { return 1 === arguments.length && !0 === t && (r = !0, t = void 0), r = r || !1, { data: o(t = t || window.location.toString(), r), attr: function (t) { return void 0 !== (t = e[t] || t) ? this.data.attr[t] : this.data.attr }, param: function (t) { return void 0 !== t ? this.data.param.query[t] : this.data.param.query }, fparam: function (t) { return void 0 !== t ? this.data.param.fragment[t] : this.data.param.fragment }, segment: function (t) { return void 0 === t ? this.data.seg.path : (t = t < 0 ? this.data.seg.path.length + t : t - 1, this.data.seg.path[t]) }, fsegment: function (t) { return void 0 === t ? this.data.seg.fragment : (t = t < 0 ? this.data.seg.fragment.length + t : t - 1, this.data.seg.fragment[t]) } } } return c.jQuery = function (r) { null != r && (r.fn.url = function (e) { var a, n, o = ""; return this.length && (o = r(this).attr((a = this[0], void 0 !== (n = a.tagName) ? t[n.toLowerCase()] : n)) || ""), c(o, e) }, r.url = c) }, c.jQuery(window.jQuery), c });